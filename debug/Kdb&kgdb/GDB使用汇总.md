## 添加模块

| 命令                                  | 解释                      |
| ------------------------------------- | ------------------------- |
| add-symbol-file \<module\> \<offset\> | 添加内核模块调试信息到gdb |

### Tip

```bash
# 查看模块偏移量
# lsmod | cut -d ' ' -f 1,6
```



## 断点

| 命令(break缩写b)         | 解释         |
| ------------------------ | ------------ |
| break fn/line [if a > b] | 设置断点     |
| clear line               | 清除断点     |
| delete n                 | 删除断点     |
| disable n                | 去使能断点   |
| enable n                 | 使能断点     |
| info b                   | 显示所有断点 |
| delete breakpoints       | 清空所有断点 |



## 执行

| 命令           | 解释                                       |
| -------------- | ------------------------------------------ |
| run            | 运行程序                                   |
| continue       | 继续执行，直到下一个断点                   |
| next           | 单步执行，如果遇到函数，不进入函数执行     |
| step           | 单步执行，如果遇到函数，则进入到函数中执行 |
| until          | 运行直到结束循环                           |
| until line     | 运行到某行                                 |
| finish         | 运行程序，直到程序运行结束                 |
| call func(arg) | 调用函数，并传递参数                       |
| quit           | 退出程序                                   |



## 显示

| 命令                                | 解释                   |
| ----------------------------------- | ---------------------- |
| info locals                         | 查询局部变量           |
| info args                           | 查询函数参数           |
|                                     |                        |
| print \*(struct \<name\>\*)\<addr\> | 已知地址输出结构体信息 |
|                                     |                        |



## 显示格式

| 命令                | 解释               |
| ------------------- | ------------------ |
| set print pretty on | 优化结构体显示格式 |



